datasets: 
    filter_scorer_sensitive: zh
    filter_scorer: zh
    potter: zh
    english_wiki: en
    chinese_wiki: zh
    chinese_pretrain: zh
    chinese_high_quality_300g: zh
    english_pretrain: en
    wz_game: zh
    ecommerce: zh
    douban: zh
    writer: zh
    writer-rank: zh
    lccc: zh
    ubuntu: en
    # inference dataset
    poetry: zh
    news_withsource: zh
    novel_selected: zh
    baike_summary: zh
    arxiv: en
    arxiv_data: en
    restoration-200k: zh
    essay: zh
    unlikelyhood-gen: zh
    ext_douban: zh
    # writer-gen-test only has the test file for generation testing (en/zh)
    writer-gen-test: en
    wikitext103: en
    copygeneration: zh

# pretrained model and tokenizer
tokenizer:
    # zh: hfl/chinese-roberta-wwm-ext
    zh: bert-base-chinese
    # zh: hfl/chinese-bert-wwm-ext
    en: bert-base-uncased

pretrained_model:
    # zh: hfl/chinese-roberta-wwm-ext
    zh: bert-base-chinese
    # zh: hfl/chinese-bert-wwm-ext
    en: bert-base-uncased

no_test_models:
    - bert-fp
    - dual-bert-wr
    - bert-fp-comp
    - bert-fp-multi
    - bert-fp-no-cls
    - bert-fp-mono
    - bert-fp-mono-seed
    - bert-fp-mono-plus
    - simcse
    - bert-mask-da
    - bert-mask-da-dmr
    - bert-mask-da-sep
    - dual-bert-unsup
    - gpt2-contrastive-search
    - gpt2-token-rerank
    - simrag
    - phrase-copy
    - gpt2-original
    - scorer
#     - writer-dual-bert-phrase

no_train_models:
    - bert-fp-original
    - bert-mask-da
    - bert-mask-da-dmr
    - bert-mask-da-sep
    - gpt2
    - bm25
    - copygeneration
    - scorer

curriculum_learning_models:
    - dual-bert-hn-cl

models:
    bm25:
        type: null
        model_name: null
        dataset_name: null
    tfidf:
        type: LanguageModel
        model_name: TFIDFModel
        dataset_name: BERTDualFullDataset
    bert-mask-da-sep:
        type: Augmentation
        model_name: BERTMaskAugmentationSepModel
        inference_dataset_name: BERTMaskAugmentationFullSepDataset
    bert-mask-da:
        type: Augmentation
        model_name: BERTMaskAugmentationModel
        # inference_dataset_name: BERTMaskAugmentationDataset
        inference_dataset_name: BERTMaskAugmentationFullDataset
    bert-mask-da-dmr:
        type: Augmentation
        model_name: BERTMaskAugmentationDMRModel
        inference_dataset_name: BERTMaskAugmentationFullDataset
    dual-bert-ml: 
        type: Representation
        model_name: BERTDualMLEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-unsup: 
        type: PostTrain
        model_name: BERTDualUnsupervisedEncoder
        dataset_name: BERTDualUnsupervisedDataset
        inference_dataset_name: null
    wz-simcse-seed:
        type: SemanticSimilarity
        model_name: SimCSESEEDEncoder
        dataset_name: InferenceWZSimCSEDataset
        inference_dataset_name: InferenceWZSimCSEDataset
    wz-simcse:
        type: SemanticSimilarity
        model_name: WZSimCSE
        # dataset_name: InferenceWZSimCSEDataset
        dataset_name: SupervisedInferenceWZSimCSEDataset
        inference_dataset_name: InferenceWZSimCSEDataset
    simcse: 
        type: SemanticSimilarity
        model_name: SimCSE
        dataset_name: SimCSEDataset
        # dataset_name: SimCSEUnlikelyhoodDataset
        # inference_dataset_name: BERTSimCSEInferenceDataset
        inference_dataset_name: BERTSimCSEInferenceContextDataset
        # inference_dataset_name: BERTSimCSEUnlikelyhoodInferenceDataset
        # inference_dataset_name: BERTSimCSEUnlikelyhoodInferenceContextDataset
    dual-bert-mixup: 
        type: Representation
        model_name: BERTDualMixUpEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-semi: 
        type: Representation
        model_name: BERTDualSemiEncoder
        dataset_name: BERTDualSemiDataset
        inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceContextDataset
    dual-bert-grading: 
        type: Representation
        model_name: BERTDualGradingEncoder
        dataset_name: BERTDualSimCSEHardNegativeDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-ishn: 
        type: Representation
        model_name: BERTDualISHNEncoder
        dataset_name: BERTDualFullISHNDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-cosine: 
        type: Representation
        model_name: BERTDualCosineEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-hn-hier: 
        type: Representation
        model_name: BERTDualHNHierEncoder
        dataset_name: BERTDualBertMaskHardNegativeDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-hn-pos:
        type: Representation
        model_name: BERTDualHNPosEncoder
        dataset_name: BERTDualBertMaskHardNegativeWithPositionWeightDataset
        # dataset_name: FineGrainedTestPositionWeightDataset
        # inference_dataset_name: BERTDualInferenceDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
        # inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
    dual-bert-hn-ctx: 
        type: Representation
        # model_name: BERTDualHNContextEncoder
        model_name: BERTDualShuffleCtxHNEncoder
        # dataset_name: BERTDualBertMaskRandomContextHardNegativeDataset
        dataset_name: BERTDualFullShuffleCtxDataset
        # dataset_name: HORSETestDataset
        # dataset_name: FineGrainedTestDataset
        inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullEXTDataset
        # inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
    dual-bert-hn-sa: 
        type: Representation
        model_name: BERTDualSAHNEncoder
        dataset_name: BERTDualSABertMaskHardNegativeDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-hn-bce:
        type: Representation
        model_name: BERTDualHNEncoderBCE
        dataset_name: BERTDualBertMaskHardNegativeDataset
        inference_dataset_name: null
    dual-bert-hn-cl: 
        type: Representation
        model_name: BERTDualHNCurriculumEncoder
        dataset_name: BERTDualCurriculumLearningFullDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
    dual-bert-hn: 
        type: Representation
        model_name: BERTDualHNEncoder
        # dataset_name: BERTDualCTXHNFullDataset
        # dataset_name: BERTDualHNDataset
        # dataset_name: BERTDualFullDataset
        # dataset_name: BERTDualBM25HNDataset
        dataset_name: BERTDualBM25SCMLiteDataset
        # dataset_name: HORSETestDataset
        # dataset_name: BERTDualBertMaskHardNegativeDataset
        # dataset_name: BERTDualSimCSEHardNegativeDataset
        # dataset_name: FineGrainedTestDataset
        # dataset_name: BERTDualFullWithHardNegDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
        # inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
    dual-bert-proj: 
        type: Representation
        model_name: BERTDualHNProjEncoder
        # dataset_name: BERTDualBertMaskHardNegativeDataset
        dataset_name: FineGrainedTestDataset
        # inference_dataset_name: BERTDualInferenceDataset
        inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
    dual-bert-pos:
        type: Representation
        model_name: BERTDualPositionWeightEncoder
        # dataset_name: BERTDualFullWithPositionWeightDataset
        dataset_name: FineGrainedTestPositionWeightDataset
        inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
    dual-bert-ext-neg:
        type: Representation
        model_name: BERTDualExtNegEncoder
        dataset_name: BERTDualFullExtraNegDataset
        # dataset_name: BERTDualFullExtraNegFromOutDatasetDataset
    dual-bert-oa: 
        type: Representation
        model_name: BERTDualOAEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: BERTDualRandomFullDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    dual-bert-sa: 
        type: Representation
        model_name: BERTDualSAEncoder
        # dataset_name: BERTDualSAFullDataset
        dataset_name: HORSESATestDataset
        inference_dataset_name: null
    dual-bert-vae:
        type: Representation
        model_name: BERTDualVAEEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-speaker:
        type: Representation
        model_name: BERTDualSpeakerEncoder
        dataset_name: BERTDualSpeakerFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-margin:
        type: Representation
        model_name: BERTDualWithMarginEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-cl:
        type: Representation
        model_name: BERTDualCLEncoder
        dataset_name: BERTDualFullCtxCLDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-adv:
        type: Representation
        model_name: BERTDualAdvEncoder
        # dataset_name: BERTDualFullDataset
        dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-memory:
        type: Representation
        model_name: BERTDualMemoryEncoder
        # dataset_name: BERTDualFullDataset
        dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-multi:
        type: Representation
        model_name: BERTDualMultiEncoder
        # dataset_name: BERTDualFullDataset
        dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-nhp: 
        type: Representation
        model_name: BERTDualNHPEncoder
        dataset_name: BERTDualFullNHPDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-multi-ctx: 
        type: Representation
        model_name: BERTDualMultiContextEncoder
        dataset_name: BERTDualFullMultiContextDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-sp: 
        type: Representation
        model_name: BERTDualEncoder
        # dataset_name: BERTDualFullDataset
        dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    xmoco: 
        type: Representation
        model_name: XMoCoEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-scm-compare: 
        type: CompareInteraction
        model_name: BERTDualSCMHNCompareEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-hn-mch: 
        type: CompareInteraction
        model_name: BERTDualSCMMCHHNEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-hn-with-easy: 
        type: CompareInteraction
        model_name: BERTDualSCMHNWithEasyEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-hn-dist: 
        type: CompareInteraction
        model_name: BERTDualSCMDistHNEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-hn-topk: 
        type: CompareInteraction
        model_name: BERTDualSCMTopKHNEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-sdl: 
        type: CompareInteraction
        model_name: BERTDualSCMSDLHNEncoder
        dataset_name: BERTDualBM25SCMDataset
        inference_dataset_name: null
    dual-bert-scm-hn-pos: 
        type: CompareInteraction
        model_name: BERTDualSCMPOSHNEncoder
        dataset_name: BERTDualBM25SCMDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: null
    dual-bert-scm-hn-g: 
        type: CompareInteraction
        model_name: BERTDualSCMHNGlobalEncoder
        dataset_name: BERTDualBM25SCMLiteDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: null
    dual-bert-scm-hn: 
        type: CompareInteraction
        model_name: BERTDualSCMHNEncoder
        # model_name: BERTDualSCMHNL2REncoder
        # model_name: BERTDualSCMHN2Encoder
        dataset_name: BERTDualBM25SCMLiteDataset
        # dataset_name: BERTDualBM25SCMLiteWithStepDataset
        # dataset_name: BERTDualFullCorruptSCMDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: null
    dual-bert-scm-cls: 
        type: CompareInteraction
        model_name: BERTDualSCMCLSEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: null
    dual-bert-scm: 
        type: CompareInteraction
        # model_name: BERTDualSCMSmallEncoder
        model_name: BERTDualSCMEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: BERTDualFullWithStepDataset
        # dataset_name: HORSETestDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
    dual-bert-seed: 
        type: Representation
        model_name: BERTDualSEEDEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-dcl: 
        type: Representation
        model_name: BERTDualDCLEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-tacl: 
        type: Representation
        model_name: BERTDualTACLEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-tacl-hn: 
        type: Representation
        model_name: BERTDualTACLWithQRNegEncoder
        dataset_name: BERTDualBM25HNDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-wdp: 
        type: Representation
        model_name: BERTDualWideDPEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: null
    writer-dual-bert-compare: 
        type: WriterRerank
        model_name: WriterDualCompareEncoder
        dataset_name: WriterRankDataset
        inference_dataset_name: null
    writer-dual-bert-phrase: 
        type: WriterRerank
        model_name: WriterPhraseEncoder
        # model_name: WriterPhraseForDeployEncoder
        dataset_name: WriterRankDataset
        inference_dataset_name: null
    smn: 
        type: TraditionalResponseSelection
        model_name: SMN
        dataset_name: TraditionalRSDataset
        inference_dataset_name: null
    msn: 
        type: TraditionalResponseSelection
        model_name: MSN
        dataset_name: TraditionalRSDataset
        inference_dataset_name: null
    rocketqa: 
        type: Representation
        model_name: RocketQAEncoder
        dataset_name: BERTDualDataset
        inference_dataset_name: null
    writer-dual-bert: 
        type: WriterRerank
        model_name: WriterDualEncoder
        dataset_name: WriterRankDataset
        inference_dataset_name: null
    dual-bert-session: 
        type: Representation
        model_name: BERTDualSessionEncoder
        dataset_name: BERTDualSessionDataset
        inference_dataset_name: null
    dual-bert-wr: 
        type: Representation
        model_name: BERTDualWREncoder
        dataset_name: BERTDualWRDataset
        # inference_dataset_name: BERTDualFullWRInferenceDataset
        inference_dataset_name: BERTDualInferenceFullContextDataset
    phrase-copy: 
        type: Representation
        model_name: DensePhraseEncoder
        dataset_name: CopyGenerationDataset
        inference_dataset_name: PhrasesInferenceDataset
    dual-bert: 
        type: Representation
        model_name: BERTDualEncoder
        # model_name: BERTDualHiddenEncoder
        # model_name: BERTDualMVEncoder
        # dataset_name: BERTDualFullFakeCtxDataset
        dataset_name: BERTDualDataset
        # dataset_name: BERTDualFullWithHardNegDataset
        # dataset_name: FilterDRDataset
        # dataset_name: BERTDualFullDataset
        # dataset_name: HORSETestDataset
        # dataset_name: BERTDualDAFullDataset
        # dataset_name: BERTDualRandomFullDataset
        # dataset_name: BERTDualMultiCTXFullDataset
        # dataset_name: BERTDualTimeDataset
        # dataset_name: FineGrainedTestDataset
        # dataset_name: BERTDualReplaceBadResponseDataset
        # dataset_name: BERTDualFullDACTXDataset
        # dataset_name: BERTDualExtFullDataset
        # dataset_name: BERTDualFullNegSessionDataset
        # dataset_name: BERTDualFullWithSelfPlayDataset
        # dataset_name: BERTDualFullPseudoDataset
        # inference_dataset_name: BERTDualFullFilterInferenceDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
        # inference_dataset_name: BERTDualInferenceFullWithTestDataset
        # inference_dataset_name: BERTDualInferenceFullEXTWithTestDataset
        # inference_dataset_name: BERTDualInferenceWithSourceDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        # inference_dataset_name: BERTDualInferenceFullEXTDataset
        # inference_dataset_name: BERTDualInferenceContextDataset
        # inference_dataset_name: BERTDualInferenceTestContextDataset
        # inference_dataset_name: BERTDualInferenceFullContextDataset
        # inference_dataset_name: BERTDualInferenceFullContextSingleExtendDataset
        # inference_dataset_name: BERTDualInferenceFullForOne2ManyDataset
        inference_dataset_name: FilterDRInferenceDataset
    dual-bert-triplet:
        type: Representation
        model_name: BERTDualEncoderTripletMargin
        # dataset_name: BERTDualFullDataset
        # dataset_name: BERTDualSimCSEHardNegativeDataset
        dataset_name: BERTDualBM25HNDataset
        # dataset_name: HORSETestDataset
        inference_dataset_name: null
    dual-bert-bow: 
        type: Representation
        model_name: BERTDualBOWEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
    gpt2-phrase: 
        type: Generation
        model_name: GPT2PhraseEncoder
        dataset_name: GPT2TaCLDataset
        inference_dataset_name: null
    gpt2-tacl-v3:
        type: Generation
        model_name: GPT2TaCLV3Encoder
        dataset_name: GPT2TaCLDataset
        inference_dataset_name: null
    gpt2-tacl-v2: 
        type: Generation
        model_name: GPT2TaCLV2Encoder
        dataset_name: GPT2TaCLV2Dataset
        inference_dataset_name: null
    gpt2-memory: 
        type: Generation
        model_name: GPT2MemoryEncoder
        dataset_name: GPT2MemoryDataset
        inference_dataset_name: null
    copygeneration: 
        type: Generation
        model_name: CopyGenerationEncoder
        dataset_name: CopyGenerationDataset
        inference_dataset_name: InferenceCopyGenerationDataset
    gpt2-contrastive-search: 
        type: Generation
        model_name: ContrastiveGPT2Encoder
        # dataset_name: GPT2ForContrastiveDataset
        # dataset_name: GPT2ForContrastiveForBigDataset
        # dataset_name: GPT2ForContrastiveForBigArxivDataset
        # dataset_name: GPT2ForContrastiveEnDataset
        dataset_name: GPT2WikiTextDataset
        inference_dataset_name: WriterInferenceDataset
    gpt2-cl: 
        type: Generation
        model_name: GPT2CLEncoder
        dataset_name: GPT2CLDataset
        inference_dataset_name: WriterInferenceDataset
    gpt2-token-rerank: 
        type: Generation
        model_name: GPT2TokenRerankModel
        dataset_name: GPT2ForContrastiveDataset
        inference_dataset_name: null 
    simrag: 
        type: Generation
        model_name: SimRAGEncoder
        dataset_name: GPT2DialogDataset
        inference_dataset_name: GPT2DialogDataset
    gpt2-original: 
        type: Generation
        # model_name: GPT2OriginalModel
        model_name: GPT2DialogModel
        dataset_name: CopyGenerationOnlyGenDataset
        # dataset_name: GPT2TaCLDataset
        # dataset_name: GPT2ForContrastiveDataset
        # dataset_name: GPT2DialogDataset
        inference_dataset_name: GPT2DialogDataset
    gpt2-rerank: 
        type: Generation
        model_name: GPT2RerankModel
        dataset_name: GPT2TaCLV3Dataset
        inference_dataset_name: null
    gpt2-un-seq: 
        type: Generation
        model_name: GPT2UNSeqModel
        # dataset_name: GPT2TaCLV3Dataset
        dataset_name: GPT2WikiTextV2Dataset
        inference_dataset_name: null
    gpt2-un: 
        type: Generation
        model_name: GPT2UNModel
        # dataset_name: GPT2TaCLDataset
        dataset_name: GPT2WikiTextDataset
        inference_dataset_name: null
    gpt2-tacl: 
        type: Generation
        model_name: GPT2TaCLV4Encoder
        dataset_name: GPT2TaCLDataset
        inference_dataset_name: null
    dual-bert-phrase: 
        type: Generation
        model_name: BERTDualPhraseEncoder
        dataset_name: GPT2TaCLDataset
        inference_dataset_name: BERTDualInferencePhraseDataset
    dual-bert-one2many-original: 
        type: Representation
        model_name: BERTDualO2MOriginalEncoder
        dataset_name: BERTDualO2MDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-one2many: 
        type: Representation
        model_name: BERTDualO2MEncoder
        # model_name: BERTDualO2MTopKEncoder
        dataset_name: BERTDualO2MDataset
        # dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        # inference_dataset_name: BERTDualInferenceFullEXTDataset
        # inference_dataset_name: BERTDualInferenceContextDataset
    dual-bert-fusion: 
        type: Representation
        model_name: BERTDualFusionEncoder
        dataset_name: BERTDualDataset
        inference_dataset_name: BERTDualCLInferenceDataset
    dual-bert-fusion-gray-writer: 
        type: Representation
        model_name: BERTDualFusionGrayFullEncoder
        dataset_name: BERTDualFullWithNegDataset
    itq: 
        type: Representation
        model_name: ITQEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    pq: 
        type: Representation
        model_name: PQEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    sh: 
        type: Representation
        model_name: SHEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    lsh-hier: 
        type: Representation
        model_name: LSHHierEncoder
        dataset_name: BERTDualFullHierDataset
        inference_dataset_name: null
    lsh: 
        type: Representation
        model_name: LSHEncoder
        dataset_name: BERTDualFullDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceWithTestDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        # inference_dataset_name: BERTDualInferenceFullWithTestDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
    bpr: 
        type: Representation
        model_name: BPREncoder
        dataset_name: BERTDualFullDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        inference_dataset_name: BERTDualInferenceFullWithTestDataset
    hash-bert-boost: 
        type: Representation
        model_name: HashBERTDualBoostEncoder
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceFullWithTestDataset
    hash-bert: 
        type: Representation
        model_name: HashBERTDualEncoder
        # model_name: HashBERTSegmentDualEncoder
        # model_name: HashBERTSupDualEncoder
        # dataset_name: BERTDualFullWithNegDataset
        dataset_name: BERTDualFullDataset
        # dataset_name: BERTDualHashFullDataset
        # dataset_name: BERTDualBM25SCMLiteDataset
        inference_dataset_name: BERTDualInferenceFullDataset
        # inference_dataset_name: BERTDualInferenceFullWithTestDataset
        # inference_dataset_name: BERTDualInferenceDataset
    gpt2-unlikely: 
        type: Generation
        model_name: GPT2UnlikelyModel
        dataset_name: GPT2UnlikelyhoodDataset
        inference_dataset_name: null
    gpt2-grl: 
        type: Generation
        model_name: GPT2GRLModel
        dataset_name: GPT2WithNegDataset
        inference_dataset_name: null
    gpt2: 
        type: Generation
        model_name: InferenceGPT2Model
        dataset_name: GPT2InferenceDataset
        # dataset_name: GPT2Dataset
        # dataset_name: GPT2TaCLDataset
        inference_dataset_name: null
    dual-bert-gen: 
        type: Generation
        model_name: BERTSeq2SeqDualEncoder
        dataset_name: BERTDualDataset
        inference_dataset_name: null
    seq2seq: 
        type: Generation
        model_name: BERTSeq2SeqEncoder
        dataset_name: BERTDualDataset
        inference_dataset_name: null 
    dual-bert-gray: 
        type: Representation
        model_name: BERTDualGrayEncoder
        dataset_name: BERTDualFullWithNegDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-gray-writer: 
        type: Representation
        model_name: BERTDualGrayFullEncoder
        dataset_name: BERTDualFullWithNegDataset
        # dataset_name: BERTDualArxivDataset
        # inference_dataset_name: BERTDualFullInferenceDataset
        inference_dataset_name: BERTDualFullWithSourceInferenceDataset
    dual-bert-trs: 
        type: Representation
        model_name: BERTDualHierTrsEncoder
        dataset_name: BERTDualHierTrsDataset
        inference_dataset_name: BERTDualInferenceDataset
    hash-dual-bert-hier-trs: 
        type: Representation
        # model_name: HashBERTDualHierEncoder
        model_name: HashBERTDualHierNoColBERTEncoder
        dataset_name: BERTDualFullHierDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullDataset
        inference_dataset_name: BERTDualInferenceFullWithTestDataset
    target-dialog: 
        type: Target
        model_name: BERTDualTargetHierarchicalTrsMVEncoder
        model_name: BERTDualTargetEncoder
        dataset_name: BERTDualFullHierDataset
        dataset_name: BERTDualFullDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    dual-bert-hier-trs: 
        type: Representation
        # model_name: BERTDualHierarchicalTrsMVEncoder
        model_name: BERTDualHierarchicalTrsEncoder
        # model_name: BERTDualHierarchicalTrsGPT2Encoder
        # model_name: BERTDualHierarchicalTrsMVGPT2Encoder
        # model_name: BERTDualHierarchicalTrsGPT2BothEncoder
        # model_name: BERTDualHierarchicalTrsMVColBERTEncoder
        # model_name: BERTDualHierarchicalTrsMVColBERTMoCoEncoder
        # model_name: BERTDualHierarchicalTrsMVEncoder
        dataset_name: BERTDualFullHierDataset
        # dataset_name: BERTDualHierTrsDataset
        # inference_dataset_name: BERTDualInferenceDataset
        # inference_dataset_name: BERTDualInferenceFullWithTestDataset
        inference_dataset_name: BERTDualInferenceFullDataset
    dual-bert-hier-dist: 
        type: Representation
        model_name: DRBERTV2Encoder
        dataset_name: BERTDualBM25SCMLiteDistDataset
        inference_dataset_name: BERTDualInferenceDataset
    dual-bert-hier: 
        type: Representation
        model_name: BERTDualHierarchicalEncoder
        dataset_name: BERTDualFullHierDataset
        inference_dataset_name: BERTDualInferenceDataset
    bert-ft-ibns: 
        type: Interaction
        model_name: BERTRetrieval
        dataset_name: BERTFTIBNSDataset
        inference_dataset_name: null 
    bert-ft-scm: 
        type: CompareInteraction
        model_name: BERTSCMRetrieval
        dataset_name: BERTFTSCMDataset
        inference_dataset_name: null 
    writer-electra:
        type: WriterRerank
        model_name: WriterELECTRA
        dataset_name: WriterRankDataset
        inference_dataset_name: null 
    bert-ft-writer:
        type: WriterRerank
        model_name: WriterBERTRetrieval
        dataset_name: WriterRankDataset
        inference_dataset_name: null 
    bert-ft-hier:
        type: Interaction
        model_name: BERTFTHierEncoder
        dataset_name: BERTFTFullHierDataset
        inference_dataset_name: null 
    bert-ft: 
        type: Interaction
        model_name: BERTRetrieval
        # dataset_name: FineGrainedTestInteractionDataset
        # dataset_name: BERTFTDataset
        dataset_name: FilterDataset
        # dataset_name: FilterSensitiveTestDataset
        # dataset_name: BERTFTFullDataset
        # dataset_name: HORSETestInteractionDataset
        # dataset_name: BERTFTTimeDataset
        inference_dataset_name: FilterInferenceDataset
    bert-ft-essay: 
        type: Evaluation
        model_name: BERTEssayRetrieval
        dataset_name: BERTFTEssayDataset
        inference_dataset_name: null 
    bert-fp-original: 
        type: Interaction
        model_name: BERTFPRetrieval
        dataset_name: BERTFTDataset
        inference_dataset_name: null 
    bert-ft-compare-token: 
        type: CompareInteraction
        model_name: BERTCompareTokenEncoder
        dataset_name: BERTFTCompTokenDataset
        # dataset_name: HORSECompTestDataset
        inference_dataset_name: null
    bert-ft-compare-multi-ens: 
        type: CompareInteraction
        model_name: BERTCompareMultiENSEncoder
        dataset_name: BERTFTCompMultiDataset
        # dataset_name: HORSECompTestDataset
        inference_dataset_name: null
    bert-ft-compare-multi-cls: 
        type: CompareInteraction
        model_name: BERTCompareMultiCLSEncoder
        dataset_name: BERTFTCompMultiCLSDataset
        # dataset_name: HORSECompTestDataset
        inference_dataset_name: null
    bert-ft-compare-multi: 
        type: CompareInteraction
        model_name: BERTCompareMultiEncoder
        dataset_name: BERTFTCompMultiDataset
        # dataset_name: HORSECompTestDataset
        inference_dataset_name: null
    bert-ft-compare: 
        type: CompareInteraction
        model_name: BERTCompareRetrieval
        # dataset_name: BERTFTCompEasyDataset
        dataset_name: BERTFTCompDataset
        # dataset_name: HORSECompTestDataset
        inference_dataset_name: null
    dual-bert-comp-hn: 
        type: CompareInteraction
        model_name: BERTDualCompareHNEncoder
        # dataset_name: FineGrainedTestDataset
        dataset_name: BERTDualBertMaskHardNegativeDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
    dual-bert-comp: 
        type: CompareInteraction
        model_name: BERTDualCompareEncoder
        # dataset_name: BERTDualFullDataset
        dataset_name: FineGrainedTestDataset
        inference_dataset_name: BERTDualInferenceFullEXTDataset
    dual-bert-compare: 
        type: CompareInteraction
        model_name: BERTDualCompEncoder
        # dataset_name: BERTDualWithNegDataset
        dataset_name: BERTDualBertMaskHardNegativeDataset
        # dataset_name: FineGrainedTestDataset
        inference_dataset_name: null
    sa-bert: 
        type: Interaction
        model_name: SABERTRetrieval 
        dataset_name: SABERTFTDataset
        # dataset_name: HORSETestSAInteractionDataset
        inference_dataset_name: null 
    doctttttquery: 
        type: Generation
        model_name: DocTTTTTQueryModel
        dataset_name: DocTTTTTQueryDataset
    colbertv2tacl: 
        type: LatentInteraction
        model_name: ColBERTV2TaCLEncoder
        dataset_name: ColBERTV2FullDataset
        # dataset_name: HORSETestDataset
    colbertv2: 
        type: LatentInteraction
        model_name: ColBERTV2Encoder
        dataset_name: ColBERTV2Dataset
        # dataset_name: ColBERTV2HNDataset
        # dataset_name: HORSETestDataset
    colbert: 
        type: LatentInteraction
        model_name: ColBERTEncoder
        dataset_name: ColBERTDataset
        # dataset_name: HORSETestDataset
    poly-encoder-hn: 
        type: LatentInteraction
        model_name: PolyEncoderHN
        dataset_name: BERTDualBertMaskHardNegativeDataset
        # dataset_name: BERTDualTimeDataset
        inference_dataset_name: null
    poly-encoder: 
        type: LatentInteraction
        model_name: PolyEncoder
        dataset_name: BERTDualFullDataset
        # dataset_name: HORSETestDataset
        # dataset_name: BERTDualDataset
        # dataset_name: BERTDualTimeDataset
        inference_dataset_name: null
    bert-fp-no-cls: 
        type: PostTrain
        model_name: BERTFPNoCLSPostTrain
        dataset_name: PostTrainNoCLSDataset
        inference_dataset_name: null 
    bert-fp-multi: 
        type: PostTrain
        model_name: BERTFPMultiPostTrain
        dataset_name: PostTrainMultiStrategiesDataset
        inference_dataset_name: null 
    bert-fp-comp: 
        type: PostTrain
        model_name: BERTFPCompPostTrain
        dataset_nams: PostTrainComparisonDataset
        inference_dataset_name: null
    bert-fp: 
        type: PostTrain
        model_name: BERTFPPostTrain
        # dataset_name: PostTrainDataset
        dataset_name: FilterPostTrainDataset
        inference_dataset_name: null 
    bert-fp-mono-plus: 
        type: PostTrain
        model_name: BERTMonolingualPostTrain
        dataset_name: PostTrainMonoPlusDataset
        inference_dataset_name: null 
    bert-fp-mono-seed: 
        type: PostTrain
        model_name: BERTMonoSEEDPostTrain
        dataset_name: PostTrainMonoSEEDDataset
        inference_dataset_name: null 
    bert-fp-mono: 
        type: PostTrain
        model_name: BERTMonolingualPostTrain
        dataset_name: PostTrainMonoDataset
        # dataset_name: PostTrainMonoWriterDataset
        # dataset_name: WZPostTrainMonoDataset
        inference_dataset_name: null 
    dual-bert-pt: 
        type: Representation
        model_name: BERTDualPTEncoder
        dataset_name: BERTDualPTDataset
        inference_dataset_name: null
    kenlm:
        type: LanguageModel
        model_name: KeNLM
        dataset_name: null
        inference_dataset_name: null
    gpt2lm:
        type: LanguageModel
        model_name: GPT2LM
        dataset_name: null
        inference_dataset_name: null
    trans-bi-encoder:
        type: MutualTrainingModel
        model_name: TransBiEncoder
        dataset_name: MutualTrainingDataset
        inference_dataset_name: null
    trans-encoder:
        type: MutualTrainingModel
        model_name: TransEncoder
        dataset_name: MutualTrainingDataset
        inference_dataset_name: null
    # scorer model do not exist, just the placeholder for bert-ft and dr-bert scorers
    scorer: 
        type: Scorer
        model_name: Scorer
        dataset_name: null
        inference_dataset_name: FilterInferenceCombinationDataset

# ========= Global configuration ========== #
# huge file are saved in the root dir
root_dir: /apdcephfs/share_733425/johntianlan/MyReDial
# root_dir: /apdcephfs/share_916081/johntianlan/MyReDial
# root_dir: /apdcephfs/share_916081/dongyangma/johntianlan/MyReDial
# root_dir: /apdcephfs/share_733425/johntianlan/MyReDial
# root_dir: /home/johntianlan/sources/EasyNLP
# test_interval bigger than 1, denotes that not test or validation during training
test_interval: 0.1
fgm: false
version: 15

# the number of the gray negative samples (writer dataset)
gray_cand_num: 5
rank: null
load_param: true
# default the test set is used during training, because douban, ecommerce has 1:1(pos:neg) settings in the validation set
# for ubuntu and horse corpus, set this parameter as true, otherwise set false
valid_during_training: true
is_step_for_training: false
# start_save_step only useful when is_step_for_training is true
start_save_step: 0 
# ========= Global configuration ========== #


# ========== Deploy configuration ========== #
deploy:
    host: '0.0.0.0'
    port: 23331
    # dataset: writer-rank
    # dataset: wz_game
    dataset: restoration-200k
    # dataset: potter
    max_len: 512
    res_max_len: 64
    recall:
        activate: false
        # model: hash-dual-bert-hier-trs
        # model: bpr
        model: dual-bert
        topk: 10
        with_source: false
        # index_type: BFlat
        index_type: IVF6000,PQ8
        index_nprobe: 5
        dimension: 768
    rerank:
        activate: false
        model: null
    pipeline:
        activate: false
    pipeline_evaluation:
        activate: true
    generation:
        activate: false
        model: gpt2
        default_generation_num: 3
        max_prefix_len: 64
        max_gen_len: 64
        # the maximum innert batch size for processing
        inner_bsz: 16
        default_decoding_method: contrastive_batch_search
# ========== Deploy configuration ========== #
